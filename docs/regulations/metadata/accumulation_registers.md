---
sidebar_position: 10
sidebar_label: Регистры накопления
title: Регистры накопления
---
## Основные свойства
1. **Имена, синонимы и представления** должны соответствовать стандартам:
* [Имена объектов метаданных в конфигурациях](https://its.1c.ru/db/v8std/content/550/hdoc)
* [Имя, синоним, комментарий](https://its.1c.ru/db/v8std/content/474/hdoc)
2. **Комментарий** - Не заполняется
3. **Представление списка** - Во множественном числе. Представление списка не задается, если совпадает с синонимом.

## Измерения

1. Устанавливать галку **“Запрет незаполненных значений“** у измерений. Нужно установить галку в измерениях у которых не может быть пустого значения (например, у измерения характеристика ставить не надо).

2. Порядок измерений должен быть таким, чтобы наиболее часто используемые в условиях и соединениях измерения располагались первыми. Это обеспечивает эффективное индексирование, сокращает объем обрабатываемых данных и ускоряет выполнение запросов. [Индексы таблиц базы данных](https://its.1c.ru/db/metod8dev/content/1590/hdoc).

## БСП
По необходимости может быть подключен к следующему функционалу:
1. [Дата запрета](https://its.1c.ru/db/bsp319doc#content:4:hdoc:issogl2_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B013)
\- Создать подписку на событие для регистров **рздПроверитьДатуЗапретаИзмененияПередЗаписьюНабораЗаписей** на метод **ДатыЗапретаИзменения.ПроверитьДатуЗапретаИзмененияПередЗаписьюНабораЗаписей
\-** В методе **рздМодификацияКонфигурацииСервер.ЗаполнитьИсточникиДанныхДляПроверкиЗапретаИзменения** реализовать заполнение для нового документа.

## Роли

На объект должны быть созданы роли согласно регламенту “[Роли](roles.md)“.  Добавлять только роль на чтение. т.к регистры подчинены документу.

В зависимости от проекта и требований по RLS выполнить необходимые действия:
Устанавливается на регистры, у которых есть измерение или реквизит **Организация**. Для регистров, участвующих в RLS, нужно дополнительно выполнить следующее:
* Создать предопределенный элемент в справочнике **ИдентификаторыОбъектовМетаданных** с именем **РегистрНакопления%ИмяРегистра%**, где %ИмяРегистра% - имя регистра, как оно задано в конфигураторе
* Добавить его в переопределяемый модуль **УправлениеДоступомПереопределяемый.ПриЗаполненииСписковСОграничениемДоступа**
* Добавить в модуль менеджера переопределяемый метод **ПриЗаполненииОграниченияДоступа**, в котором описать правила чтения и изменения для расчетной модели прав.
* Добавить в определяемый тип **ВладелецЗначенийКлючейДоступаНаборЗаписей РегистрНакопленияНаборЗаписей.%ТипОбъекта%**
* В процедуре **ПриЧтенииНаСервере** формы элемента (если есть), добавить вставку кода:
```
// СтандартныеПодсистемы.УправлениеДоступом
Если ОбщегоНазначения.ПодсистемаСуществует("СтандартныеПодсистемы.УправлениеДоступом") Тогда
МодульУправлениеДоступом = ОбщегоНазначения.ОбщийМодуль("УправлениеДоступом");
МодульУправлениеДоступом.ПриЧтенииНаСервере(ЭтотОбъект, ТекущийОбъект);
КонецЕсли;
// Конец СтандартныеПодсистемы.УправлениеДоступом
```

## Подсистемы

Новый объект должен быть размещен в служебную подсистему согласно регламенту “[Подсистемы](subsystem.md)“. Если в ТР не прописано пользовательское размещение тогда объект добавляется только в служебную подсистему.